import requests
import json
import datetime
from selenium import webdriver
from selenium.webdriver.common.action_chains import ActionChains
from time import sleep

hotelId_list = ['1815857', '4029445', '56601255', '6428073', '51815750', '2215303', '15248848', '54429699', '43941285',
                '1443568',
                '1755351', '6052550', '19678243', '2308064', '5324761', '2104037', '51046534', '54651642', '62626679',
                '42377133',
                '1755351', '6052550', '19678243', '2308064', '5324761', '2104037', '51046534', '54651642', '62626679',
                '42377133',
                '1301914', '1396191', '1990013', '52733381', '2289274', '5765902', '43449242', '55231637', '15957930',
                '7840524',
                '1301914', '1396191', '1990013', '52733381', '2289274', '5765902', '43449242', '55231637', '15957930',
                '7840524',
                '12131828', '8411909', '3457476', '2328423', '480488', '33410491', '1400588', '61936887', '1731791',
                '1947784',
                '54431152', '5981101', '22569916', '20054442', '1215918', '54755098', '1745087', '27708557', '5661481',
                '53954190',
                '54431152', '5981101', '22569916', '20054442', '1215918', '54755098', '1745087', '27708557', '5661481',
                '53954190',
                '53954190', '53258002', '2131870', '2303682', '34962959', '4542456', '2073770', '6072091', '14262910',
                '3289472',
                '3289472', '46117443', '15950482', '5025411', '4814801', '1768712', '23841122', '1439096', '5498792',
                '53129331',
                '3289472', '46117443', '15950482', '5025411', '4814801', '1768712', '23841122', '1439096', '5498792',
                '53129331',
                '42724482', '443749', '2277879', '1768421', '2304389', '800409', '2308726', '11019592', '7586195',
                '18071651',
                '15879594', '1684892', '2301614', '2083381', '997807', '14523913', '6865406', '11560165', '1483452',
                '28327665',
                '1719563', '5769460', '1316751', '6082343', '2285578', '832745', '5236838', '848515', '1542131',
                '13868919',
                '68224656', '25767176', '48945922', '48285461', '5248531', '3777473', '41063421', '4652460', '43941104',
                '3423990',
                '3423990', '8569035', '858847', '2302226', '13838033', '52755321', '2642368', '839464', '2531474',
                '1442147',
                '5926955', '6247457', '1248425', '1253278', '4439579', '987357', '2361617', '28678224', '479499',
                '1379677',
                '5926955', '6247457', '1248425', '1253278', '4439579', '987357', '2361617', '28678224', '479499',
                '1379677',
                '12424304', '2160349', '56664387', '2313183', '49101773', '7808924', '43954953', '11017203', '447321',
                '32123810',
                ]

hotel_detail_url = 'https://hotels.ctrip.com/hotels/detail/?hotelId=10201435&checkIn={}&checkOut={}&cityId=25&minprice=&mincurr=&adult=1&children=0&ages=&crn=1&curr=&fgt=&stand=&stdcode=&hpaopts=&mproom=&ouid=&shoppingid=&roomkey=&highprice=-1&lowprice=0&showtotalamt=&hotelUniqueKey='


# 获取当日时间
def get_today_time():
    year = datetime.datetime.now().year
    month = datetime.datetime.now().month
    day = datetime.datetime.now().day
    today = str(year) + '-' + str(month) + '-' + str(day)
    tomorrow = str(year) + '-' + str(month) + '-' + str(day + 1)
    print(today + '至' + tomorrow)
    return today, tomorrow

# with open('a.html', 'a', encoding='utf-8') as f:
#     f.write(requests.get(url=url.format('2020-12-22', '2020-12-23')).text)


if __name__ == "__main__":
    today, tomorrow = get_today_time()
    driver = webdriver.Chrome(executable_path='chromedriver.exe')
    driver.get(hotel_detail_url.format(today, tomorrow))
    driver.maximize_window()
    page_source = driver.page_source

